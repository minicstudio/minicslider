(function($){$.fn.ghostText=function(opts,args){if(this.length==0){return false;}
else if(this.length>1){return this.each(function(){$(this).ghostText(opts,args);});}
var $self=this;var val=this.val();var defaults={ghostText:val,ghostClass:'ghost-text',focus:null,blur:null,change:null,clearOnSubmit:true,parentForm:null};var settings=$self.data('ghostText');var methods={init:function(){if(!opts){opts={};}
settings=defaults;methods.updateSettings(opts);$self.val(settings.ghostText);if(settings.clearOnSubmit){if(settings.parentForm){$('#'+settings.parentForm.replace('#','')).submit(function(e){methods.parentFormSubmit(e);});}
else{$self.closest('form').submit(function(){methods.parentFormSubmit();});}}
$self.focus(function(){methods.focus();});$self.blur(function(){methods.blur();});$self.keyup(function(){methods.change();});if(!$self.hasClass(settings.ghostClass)){$self.addClass(settings.ghostClass);}},updateSettings:function(opts){settings=$.extend(settings,opts);$self.data('ghostText',settings);},parentFormSubmit:function(){if($self.val()==settings.ghostText){$self.val('');}},focus:function(){val=$self.val();if(val==settings.ghostText){$self.val('').removeClass(settings.ghostClass);}
if(settings.focus){settings.focus(val);}},blur:function(){val=$self.val();if(val.replace(/\s/g,'')==''||val==settings.ghostText){$self.val(settings.ghostText).addClass(settings.ghostClass);}
if(settings.blur){settings.blur(val);}},change:function(){val=$self.val();if(settings.change){settings.change(val);}}};if(typeof(opts)=='string'){if(methods.hasOwnProperty(opts)){return methods[opts](args);}}
else{methods.init();}
return $self;}})(jQuery);